<Page
	x:Class="Anilibria.Pages.OnlinePlayer.OnlinePlayerView"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:local="using:Anilibria.Pages.OnlinePlayer"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:converters="using:Anilibria.Converters"
	mc:Ignorable="d"
	d:DataContext="{d:DesignInstance local:OnlinePlayerViewModel}">

	<Page.Resources>
		<converters:MediaSourceConverter x:Key="MediaSourceConverter" />
		<Storyboard x:Name="ShowPause">
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.ScaleY)" Storyboard.TargetName="PauseIcon">
				<EasingDoubleKeyFrame KeyTime="0" Value="1"/>
				<EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="1.3"/>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.ScaleX)" Storyboard.TargetName="PauseIcon">
				<EasingDoubleKeyFrame KeyTime="0" Value="1"/>
				<EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="1.3"/>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity" Storyboard.TargetName="PauseIcon">
				<EasingDoubleKeyFrame KeyTime="0" Value="0" />
				<EasingDoubleKeyFrame KeyTime="0:0:0.3" Value=".8" />
			</DoubleAnimationUsingKeyFrames>
		</Storyboard>
		<Storyboard x:Name="HidePause">
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.ScaleY)" Storyboard.TargetName="PauseIcon">
				<EasingDoubleKeyFrame KeyTime="0" Value="1.3"/>
				<EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="1"/>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.ScaleX)" Storyboard.TargetName="PauseIcon">
				<EasingDoubleKeyFrame KeyTime="0" Value="1.3"/>
				<EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="1"/>
			</DoubleAnimationUsingKeyFrames>
			<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Opacity" Storyboard.TargetName="PauseIcon">
				<EasingDoubleKeyFrame KeyTime="0" Value=".8" />
				<EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="0" />
			</DoubleAnimationUsingKeyFrames>
		</Storyboard>
		<Style TargetType="Button" x:Key="VolumeButton">
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="Foreground" Value="{ThemeResource SystemControlForegroundBaseHighBrush}"/>
			<Setter Property="BorderBrush" Value="{ThemeResource SystemControlForegroundTransparentBrush}" />
			<Setter Property="BorderThickness" Value="{ThemeResource ButtonBorderThemeThickness}" />
			<Setter Property="Padding" Value="0,0,0,0" />
			<Setter Property="HorizontalAlignment" Value="Left" />
			<Setter Property="VerticalAlignment" Value="Center" />
			<Setter Property="FontFamily" Value="{ThemeResource ContentControlThemeFontFamily}" />
			<Setter Property="FontWeight" Value="Normal" />
			<Setter Property="FontSize" Value="42" />
			<Setter Property="UseSystemFocusVisuals" Value="False" />
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Grid x:Name="RootGrid" Background="{TemplateBinding Background}">
							<VisualStateManager.VisualStateGroups>
								<VisualStateGroup x:Name="CommonStates">
									<VisualState x:Name="Normal">
										<Storyboard>
											<PointerUpThemeAnimation Storyboard.TargetName="RootGrid" />
										</Storyboard>
									</VisualState>
									<VisualState x:Name="PointerOver">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="Gray" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightBaseHighBrush}" />
											</ObjectAnimationUsingKeyFrames>
											<PointerUpThemeAnimation Storyboard.TargetName="RootGrid" />
										</Storyboard>
									</VisualState>
									<VisualState x:Name="Pressed">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlBackgroundBaseMediumLowBrush}" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="LightGray" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightBaseHighBrush}" />
											</ObjectAnimationUsingKeyFrames>
											<PointerDownThemeAnimation Storyboard.TargetName="RootGrid" />
										</Storyboard>
									</VisualState>
									<VisualState x:Name="Disabled">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="Transparent" />
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlDisabledBaseMediumLowBrush}" />
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
								</VisualStateGroup>
							</VisualStateManager.VisualStateGroups>
							<ContentPresenter x:Name="ContentPresenter"
								BorderBrush="{TemplateBinding BorderBrush}"
								BorderThickness="{TemplateBinding BorderThickness}"
								Content="{TemplateBinding Content}"
								ContentTransitions="{TemplateBinding ContentTransitions}"
								ContentTemplate="{TemplateBinding ContentTemplate}"
								Padding="{TemplateBinding Padding}"
								HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
								VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
								AutomationProperties.AccessibilityView="Raw"
							/>
						</Grid>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
		<Style x:Key="IconSliderStyle" TargetType="Slider">
			<Setter Property="Background" Value="{ThemeResource SliderTrackFill}"/>
			<Setter Property="BorderThickness" Value="{ThemeResource SliderBorderThemeThickness}"/>
			<Setter Property="Foreground" Value="{ThemeResource SliderTrackValueFill}"/>
			<Setter Property="FontFamily" Value="{ThemeResource ContentControlThemeFontFamily}"/>
			<Setter Property="FontSize" Value="{ThemeResource ControlContentThemeFontSize}"/>
			<Setter Property="ManipulationMode" Value="None"/>
			<Setter Property="UseSystemFocusVisuals" Value="True"/>
			<Setter Property="FocusVisualMargin" Value="-7,0,-7,0"/>
			<Setter Property="IsFocusEngagementEnabled" Value="True"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Slider">
						<Grid Margin="0 0 0 0">
							<Grid.Resources>
								<Style x:Key="SliderThumbStyle" TargetType="Thumb">
									<Setter Property="BorderThickness" Value="0"/>
									<Setter Property="Background" Value="{ThemeResource SliderThumbBackground}"/>
									<Setter Property="Template">
										<Setter.Value>
											<ControlTemplate TargetType="Thumb">
												<Image Source="/Assets/anilibriaicon.png" />
											</ControlTemplate>
										</Setter.Value>
									</Setter>
								</Style>
							</Grid.Resources>
							<Grid.RowDefinitions>
								<RowDefinition Height="Auto"/>
								<RowDefinition Height="*"/>
							</Grid.RowDefinitions>
							<VisualStateManager.VisualStateGroups>
								<VisualStateGroup x:Name="CommonStates">
									<VisualState x:Name="Normal"/>
									<VisualState x:Name="Pressed">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="HorizontalTrackRect" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTrackFillPressed}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="VerticalTrackRect" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTrackFillPressed}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="HorizontalThumb" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderThumbBackgroundPressed}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="VerticalThumb" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderThumbBackgroundPressed}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SliderContainer" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderContainerBackgroundPressed}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="HorizontalDecreaseRect" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTrackValueFillPressed}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="VerticalDecreaseRect" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTrackValueFillPressed}"/>
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
									<VisualState x:Name="Disabled">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="HeaderContentPresenter" Storyboard.TargetProperty="Foreground">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderHeaderForegroundDisabled}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="HorizontalDecreaseRect" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTrackValueFillDisabled}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="HorizontalTrackRect" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTrackFillDisabled}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="VerticalDecreaseRect" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTrackValueFillDisabled}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="VerticalTrackRect" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTrackFillDisabled}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="HorizontalThumb" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderThumbBackgroundDisabled}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="VerticalThumb" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderThumbBackgroundDisabled}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="TopTickBar" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTickBarFillDisabled}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="BottomTickBar" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTickBarFillDisabled}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="LeftTickBar" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTickBarFillDisabled}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="RightTickBar" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTickBarFillDisabled}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SliderContainer" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderContainerBackgroundDisabled}"/>
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
									<VisualState x:Name="PointerOver">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="HorizontalTrackRect" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTrackFillPointerOver}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="VerticalTrackRect" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTrackFillPointerOver}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="HorizontalThumb" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderThumbBackgroundPointerOver}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="VerticalThumb" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderThumbBackgroundPointerOver}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SliderContainer" Storyboard.TargetProperty="Background">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderContainerBackgroundPointerOver}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="HorizontalDecreaseRect" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTrackValueFillPointerOver}"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="VerticalDecreaseRect" Storyboard.TargetProperty="Fill">
												<DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SliderTrackValueFillPointerOver}"/>
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
								</VisualStateGroup>
								<VisualStateGroup x:Name="FocusEngagementStates">
									<VisualState x:Name="FocusDisengaged"/>
									<VisualState x:Name="FocusEngagedHorizontal">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SliderContainer" Storyboard.TargetProperty="(Control.IsTemplateFocusTarget)">
												<DiscreteObjectKeyFrame KeyTime="0" Value="False"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="HorizontalThumb" Storyboard.TargetProperty="(Control.IsTemplateFocusTarget)">
												<DiscreteObjectKeyFrame KeyTime="0" Value="True"/>
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
									<VisualState x:Name="FocusEngagedVertical">
										<Storyboard>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="SliderContainer" Storyboard.TargetProperty="(Control.IsTemplateFocusTarget)">
												<DiscreteObjectKeyFrame KeyTime="0" Value="False"/>
											</ObjectAnimationUsingKeyFrames>
											<ObjectAnimationUsingKeyFrames Storyboard.TargetName="VerticalThumb" Storyboard.TargetProperty="(Control.IsTemplateFocusTarget)">
												<DiscreteObjectKeyFrame KeyTime="0" Value="True"/>
											</ObjectAnimationUsingKeyFrames>
										</Storyboard>
									</VisualState>
								</VisualStateGroup>
							</VisualStateManager.VisualStateGroups>
							<ContentPresenter x:Name="HeaderContentPresenter" ContentTemplate="{TemplateBinding HeaderTemplate}" Content="{TemplateBinding Header}" FontWeight="{ThemeResource SliderHeaderThemeFontWeight}" Foreground="{ThemeResource SliderHeaderForeground}" Margin="{ThemeResource SliderHeaderThemeMargin}" TextWrapping="Wrap" Visibility="Collapsed" x:DeferLoadStrategy="Lazy"/>
							<Grid x:Name="SliderContainer" Background="{ThemeResource SliderContainerBackground}" Control.IsTemplateFocusTarget="True" Grid.Row="1">
								<Grid x:Name="HorizontalTemplate" MinHeight="44">
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="Auto"/>
										<ColumnDefinition Width="Auto"/>
										<ColumnDefinition Width="*"/>
									</Grid.ColumnDefinitions>
									<Grid.RowDefinitions>
										<RowDefinition Height="18"/>
										<RowDefinition Height="Auto"/>
										<RowDefinition Height="18"/>
									</Grid.RowDefinitions>
									<Rectangle x:Name="HorizontalTrackRect" Grid.ColumnSpan="3" Fill="{TemplateBinding Background}" Height="{ThemeResource SliderTrackThemeHeight}" Grid.Row="1"/>
									<Rectangle x:Name="HorizontalDecreaseRect" Fill="{TemplateBinding Foreground}" Grid.Row="1"/>
									<TickBar x:Name="TopTickBar" Grid.ColumnSpan="3" Fill="{ThemeResource SliderTickBarFill}" Height="{ThemeResource SliderOutsideTickBarThemeHeight}" Margin="0,0,0,4" VerticalAlignment="Bottom" Visibility="Collapsed"/>
									<TickBar x:Name="HorizontalInlineTickBar" Grid.ColumnSpan="3" Fill="{ThemeResource SliderInlineTickBarFill}" Height="{ThemeResource SliderTrackThemeHeight}" Grid.Row="1" Visibility="Collapsed"/>
									<TickBar x:Name="BottomTickBar" Grid.ColumnSpan="3" Fill="{ThemeResource SliderTickBarFill}" Height="{ThemeResource SliderOutsideTickBarThemeHeight}" Margin="0,4,0,0" Grid.Row="2" VerticalAlignment="Top" Visibility="Collapsed"/>
									<Thumb x:Name="HorizontalThumb" AutomationProperties.AccessibilityView="Raw" Grid.Column="1" DataContext="{TemplateBinding Value}" FocusVisualMargin="-14,-6,-14,-6" Height="24" Grid.RowSpan="3" Grid.Row="0" Style="{StaticResource SliderThumbStyle}" Width="24"/>
								</Grid>
								<Grid x:Name="VerticalTemplate" MinWidth="44" Visibility="Collapsed">
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="18"/>
										<ColumnDefinition Width="Auto"/>
										<ColumnDefinition Width="18"/>
									</Grid.ColumnDefinitions>
									<Grid.RowDefinitions>
										<RowDefinition Height="*"/>
										<RowDefinition Height="Auto"/>
										<RowDefinition Height="Auto"/>
									</Grid.RowDefinitions>
									<Rectangle x:Name="VerticalTrackRect" Grid.Column="1" Fill="{TemplateBinding Background}" Grid.RowSpan="3" Width="{ThemeResource SliderTrackThemeHeight}"/>
									<Rectangle x:Name="VerticalDecreaseRect" Grid.Column="1" Fill="{TemplateBinding Foreground}" Grid.Row="2"/>
									<TickBar x:Name="LeftTickBar" Fill="{ThemeResource SliderTickBarFill}" HorizontalAlignment="Right" Margin="0,0,4,0" Grid.RowSpan="3" Visibility="Collapsed" Width="{ThemeResource SliderOutsideTickBarThemeHeight}"/>
									<TickBar x:Name="VerticalInlineTickBar" Grid.Column="1" Fill="{ThemeResource SliderInlineTickBarFill}" Grid.RowSpan="3" Visibility="Collapsed" Width="{ThemeResource SliderTrackThemeHeight}"/>
									<TickBar x:Name="RightTickBar" Grid.Column="2" Fill="{ThemeResource SliderTickBarFill}" HorizontalAlignment="Left" Margin="4,0,0,0" Grid.RowSpan="3" Visibility="Collapsed" Width="{ThemeResource SliderOutsideTickBarThemeHeight}"/>
									<Thumb x:Name="VerticalThumb" AutomationProperties.AccessibilityView="Raw" Grid.ColumnSpan="3" Grid.Column="0" DataContext="{TemplateBinding Value}" FocusVisualMargin="-6,-14,-6,-14" Height="24" Grid.Row="1" Style="{StaticResource SliderThumbStyle}" Width="24"/>
								</Grid>
							</Grid>
						</Grid>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
	</Page.Resources>

	<Grid PointerMoved="Grid_PointerMoved">
		<Grid
			Background="Black">
			<MediaPlayerElement
				x:Name="OnlinePlayer"
				Tapped="OnlinePlayer_Tapped"
				DoubleTapped="OnlinePlayer_DoubleTapped"
				RightTapped="OnlinePlayer_RightTapped"
				Source="{Binding VideoSource, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource MediaSourceConverter}}"
				AutoPlay="True"
			/>
		</Grid>
		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto" />
				<RowDefinition />
				<RowDefinition Height="Auto" />
			</Grid.RowDefinitions>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="Auto" />
				<ColumnDefinition />
				<ColumnDefinition Width="Auto" />
			</Grid.ColumnDefinitions>
			<StackPanel
				Grid.Row="0"
				Grid.Column="0"
				Background="Black"
				VerticalAlignment="Top"
				Visibility="{Binding IsBuffering}">
				<TextBlock
					Foreground="White">Буферизация....</TextBlock>
			</StackPanel>
			<Border
				x:Name="ControlPanel"
				Grid.Row="0"
				Grid.ColumnSpan="3"
				Background="#b32121"
				BorderBrush="#881919"
				BorderThickness="0 0 0 2"
				Visibility="Collapsed">
				<RelativePanel
					HorizontalAlignment="Stretch">
					<Button
						x:Name="SidebarButton"
						Style="{StaticResource IconsButtonStyle}"
						Command="{Binding ShowSidebarCommand}">
						<Image
							Width="{StaticResource IconSize}"
							Height="{StaticResource IconSize}"
							Source="/Assets/Icons/humburger.svg"
						/>
					</Button>
					<TextBlock
						x:Name="CurrentVideoPositionPanel"
						RelativePanel.RightOf="SidebarButton"
						FontSize="16"
						Foreground="White"
						VerticalAlignment="Center"
						Margin="6 12 0 0"
						Visibility="{Binding IsMediaOpened}">
						<Run
							Text="{Binding DisplayPositionPercent}"
						/>
						<Run
							Text="{Binding DisplayPosition}"
						/>
						<Run
							Text="/"
						/>
						<Run
							Text="{Binding DisplayDuration}"
						/>
					</TextBlock>
					<Button
						x:Name="VolumeButton"
						RelativePanel.LeftOf="SettingsButton"
						Style="{StaticResource IconsButtonStyle}">
						<Image
							Width="{StaticResource IconSize}"
							Height="{StaticResource IconSize}"
							Source="/Assets/Icons/speaker.svg"
						/>
						<Button.Flyout>
							<Flyout>
								<StackPanel
									x:Name="VolumeArea"
									MinWidth="150">
									<Button
										Style="{StaticResource VolumeButton}"
										Command="{Binding ChangeVolumeCommand}"
										HorizontalAlignment="Stretch">
										<Button.CommandParameter>
											<x:Double>.1</x:Double>
										</Button.CommandParameter>
										<TextBlock Foreground="Black">+</TextBlock>
									</Button>
									<Grid x:Name="VolumeText">
										<TextBlock
											Text="{Binding DisplayVolume}"
											HorizontalAlignment="Center"
											FontSize="36"
										/>
									</Grid>
									<Button
										Style="{StaticResource VolumeButton}"
										Command="{Binding ChangeVolumeCommand}"
										HorizontalAlignment="Stretch">
										<Button.CommandParameter>
											<x:Double>-.1</x:Double>
										</Button.CommandParameter>
										<TextBlock Foreground="Black">-</TextBlock>
									</Button>
									<Button
										Style="{StaticResource VolumeButton}"
										Command="{Binding MuteCommand}"
										HorizontalAlignment="Stretch">
										<Image Source="/Assets/mute.svg" Width="36" Height="36" />
									</Button>
								</StackPanel>
							</Flyout>
						</Button.Flyout>
					</Button>
					<Button
						x:Name="PlaylistButton"
						RelativePanel.LeftOf="VolumeButton"
						Style="{StaticResource IconsButtonStyle}">
						<Image
							Width="{StaticResource IconSize}"
							Height="{StaticResource IconSize}"
							Source="/Assets/Icons/playlist.svg"
						/>
						<Button.Flyout>
							<Flyout>
								<StackPanel Orientation="Vertical">
									<StackPanel
										Orientation="Horizontal">
										<TextBlock
											VerticalAlignment="Center"
											Margin="0 0 4 0"
											FontSize="16">
											Выбор видео
										</TextBlock>
										<ComboBox
											FontSize="16"
											ItemsSource="{Binding SelectedRelease.OnlineVideos}"
											DisplayMemberPath="Title"
											Width="160"
											SelectedItem="{Binding SelectedOnlineVideo, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
										/>
									</StackPanel>
								</StackPanel>
							</Flyout>
						</Button.Flyout>
					</Button>
					<Button
						x:Name="CastToDevice"
						RelativePanel.LeftOf="SliderButton"
						Style="{StaticResource IconsButtonStyle}"
						Click="CastToDevice_Click">
						<Image
							Width="{StaticResource IconSize}"
							Height="{StaticResource IconSize}"
							Source="/Assets/Icons/cast.svg"
						/>
					</Button>
					<Button
						x:Name="SliderButton"
						RelativePanel.LeftOf="PlaylistButton"
						Style="{StaticResource IconsButtonStyle}">
						<Image
							Width="{StaticResource IconSize}"
							Height="{StaticResource IconSize}"
							Source="/Assets/Icons/slider.svg"
						/>
						<Button.Flyout>
							<Flyout>
								<StackPanel>
									<Slider
										x:Name="Slider"
										Style="{StaticResource IconSliderStyle}"
										Minimum="0"
										Maximum="{Binding DurationSecond, UpdateSourceTrigger=PropertyChanged}"
										Width="200"
										Margin="0 8 0 0"
										ManipulationCompleted="Slider_ManipulationCompleted"
										ManipulationStarting="Slider_ManipulationStarting"
										Tapped="Slider_Tapped"
										ManipulationMode="All"
									/>
								</StackPanel>
							</Flyout>
						</Button.Flyout>
					</Button>
					<Button
						x:Name="SettingsButton"
						Style="{StaticResource IconsButtonStyle}"
						RelativePanel.AlignRightWithPanel="True">
						<Image
							Width="{StaticResource IconSize}"
							Height="{StaticResource IconSize}"
							Source="/Assets/Icons/settings.svg"
						/>
						<Button.Flyout>
							<Flyout>
								<StackPanel>
									<TextBlock
										Foreground="Black"
										Margin="4"
										FontSize="16">
										Качество
									</TextBlock>
									<StackPanel Orientation="Horizontal">
										<ToggleButton
											Foreground="Black"
											FontSize="20"
											IsChecked="{Binding IsHD, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
											720p
										</ToggleButton>
										<ToggleButton
											Foreground="Black"
											FontSize="20"
											IsChecked="{Binding IsSD, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
											480p
										</ToggleButton>
									</StackPanel>
								</StackPanel>
							</Flyout>
						</Button.Flyout>
					</Button>
				</RelativePanel>
			</Border>
			<Grid
				Grid.RowSpan="3"
				Grid.ColumnSpan="3"
				IsHitTestVisible="False"
				x:Name="PauseIcon"
				Opacity="0"
				RenderTransformOrigin=".5 .5">
				<Grid.RenderTransform>
					<CompositeTransform></CompositeTransform>
				</Grid.RenderTransform>
				<Grid>
					<Ellipse
						x:Name="PauseIconBackground"
						VerticalAlignment="Center"
						HorizontalAlignment="Center"
						Fill="LightGray"
						Height="260"
						Width="260"
						IsHitTestVisible="False">
					</Ellipse>
					<Image
						x:Name="PauseIconViewbox"
						Source="/Assets/Icons/pause.svg"
						Width="245"
						Height="245"
						HorizontalAlignment="Center"
						VerticalAlignment="Center"
						IsHitTestVisible="False">
					</Image>
				</Grid>
			</Grid>
			<StackPanel
				x:Name="CurrentReleaseInfo"
				Visibility="Collapsed"
				Grid.Row="2"
				Grid.Column="2">
				<Border
					BorderBrush="#881919"
					BorderThickness="2"
					HorizontalAlignment="Right">
					<Grid>
						<Rectangle
							Fill="White"
						/>
						<StackPanel Margin="2 0 2 0" Orientation="Horizontal">
							<Grid>
								<Grid.RowDefinitions>
									<RowDefinition />
									<RowDefinition Height="Auto" />
								</Grid.RowDefinitions>
								<StackPanel
									Grid.Row="0"
									Orientation="Vertical">
									<TextBlock
										x:Name="CurrentReleaseTitle"
										FontSize="20"
										Foreground="#b32121"
										HorizontalAlignment="Right"
										TextWrapping="WrapWholeWords"
										TextTrimming="CharacterEllipsis"
										MaxLines="5"
										Text="{Binding SelectedRelease.Title}">
									</TextBlock>
									<TextBlock
										x:Name="CurrentVideoTitle"
										FontSize="20"
										Foreground="Black"
										TextTrimming="CharacterEllipsis"
										HorizontalAlignment="Right"
										Text="{Binding SelectedOnlineVideo.Title}">
									</TextBlock>
								</StackPanel>
								<StackPanel
									Grid.Row="1"
									Orientation="Vertical">
									<TextBlock
										x:Name="CurrentVideoPosition"
										FontSize="20"
										Foreground="Black"
										HorizontalAlignment="Right"
										VerticalAlignment="Bottom">
										<Run Text="{Binding DisplayPosition}"></Run>
										<Run Text="{Binding DisplayPositionPercent}"></Run>
									</TextBlock>
									<TextBlock
										x:Name="CurrentVideoDuration"
										FontSize="20"
										Foreground="Black"
										VerticalAlignment="Bottom"
										HorizontalAlignment="Right"
										Text="{Binding DisplayDuration}"
									/>
								</StackPanel>
							</Grid>
							<Image
								x:Name="PosterImage"
								Margin="3 3 1 3"
								Tag="{Binding SelectedRelease.Id}"
								converters:CacheImageConverter.ImageGroup="Poster"
								converters:CacheImageConverter.ImagePath="{Binding SelectedRelease.Poster}"
								Stretch="Uniform"
								Height="200"
							/>
						</StackPanel>
					</Grid>
				</Border>
			</StackPanel>
		</Grid>
		<VisualStateManager.VisualStateGroups>
			<VisualStateGroup>
				<VisualState x:Name="ExtraWide">
					<VisualState.StateTriggers>
						<AdaptiveTrigger MinWindowWidth="1800" MinWindowHeight="1200" />
					</VisualState.StateTriggers>
					<VisualState.Setters>
						<Setter Target="PauseIconBackground.Width" Value="300" />
						<Setter Target="PauseIconBackground.Height" Value="300" />
						<Setter Target="PauseIconViewbox.Width" Value="245" />
						<Setter Target="PauseIconViewbox.Height" Value="245" />
						<Setter Target="CurrentReleaseTitle.FontSize" Value="20" />
						<Setter Target="CurrentVideoTitle.FontSize" Value="20" />
						<Setter Target="CurrentVideoPosition.FontSize" Value="20" />
						<Setter Target="CurrentVideoDuration.FontSize" Value="20" />
					</VisualState.Setters>
				</VisualState>
				<VisualState x:Name="Wide">
					<VisualState.StateTriggers>
						<AdaptiveTrigger MinWindowWidth="1400" MinWindowHeight="720" />
					</VisualState.StateTriggers>
					<VisualState.Setters>
						<Setter Target="PauseIconBackground.Width" Value="285" />
						<Setter Target="PauseIconBackground.Height" Value="285" />
						<Setter Target="PauseIconViewbox.Width" Value="200"/>
						<Setter Target="PauseIconViewbox.Height" Value="200"/>
						<Setter Target="CurrentReleaseTitle.FontSize" Value="16" />
						<Setter Target="CurrentVideoTitle.FontSize" Value="16" />
						<Setter Target="CurrentVideoPosition.FontSize" Value="16" />
						<Setter Target="CurrentVideoDuration.FontSize" Value="16" />
					</VisualState.Setters>
				</VisualState>
				<VisualState x:Name="Square">
					<VisualState.StateTriggers>
						<AdaptiveTrigger MinWindowWidth="720" MinWindowHeight="440" />
					</VisualState.StateTriggers>
					<VisualState.Setters>
						<Setter Target="PauseIconBackground.Width" Value="145" />
						<Setter Target="PauseIconBackground.Height" Value="145" />
						<Setter Target="PauseIconViewbox.Width" Value="100"/>
						<Setter Target="PauseIconViewbox.Height" Value="100"/>
						<Setter Target="CurrentReleaseTitle.FontSize" Value="14" />
						<Setter Target="CurrentVideoTitle.FontSize" Value="14" />
						<Setter Target="CurrentVideoPosition.FontSize" Value="14" />
						<Setter Target="CurrentVideoDuration.FontSize" Value="14" />
						<Setter Target="PosterImage.Height" Value="160" />
					</VisualState.Setters>
				</VisualState>
				<VisualState x:Name="Snapped">
					<VisualState.StateTriggers>
						<AdaptiveTrigger MinWindowWidth="0" MinWindowHeight="0"/>
					</VisualState.StateTriggers>
					<VisualState.Setters>
						<Setter Target="PauseIconBackground.Width" Value="75" />
						<Setter Target="PauseIconBackground.Height" Value="75" />
						<Setter Target="PauseIconViewbox.Width" Value="50"/>
						<Setter Target="PauseIconViewbox.Height" Value="50"/>
						<Setter Target="CurrentReleaseTitle.FontSize" Value="12" />
						<Setter Target="CurrentVideoTitle.FontSize" Value="12" />
						<Setter Target="CurrentVideoPosition.FontSize" Value="12" />
						<Setter Target="CurrentVideoDuration.FontSize" Value="12" />
						<Setter Target="PosterImage.Height" Value="140" />
					</VisualState.Setters>
				</VisualState>
			</VisualStateGroup>
		</VisualStateManager.VisualStateGroups>
	</Grid>
</Page>
